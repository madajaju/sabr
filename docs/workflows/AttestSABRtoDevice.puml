@startuml
partition "ITOperations" #ffffcc {
(*) --> ===F1===
}

partition "Common Physical Layer" #bbbbbb {
===F1=== --> "Attested Hardware"
}

partition "DevOps Engineer" #ffffcc {
===F1=== --> "Start Build"
}
partition "Security Aspect" pink {
"Attested Hardware" --> "Generate Hardware Keys"
}
partition "Common Physical Layer" #bbbbbb {
"Generate Hardware Keys" --> "Deploy Attested Hardware"
}
partition "Capability Manager" #00aaff {
"Deploy Attested Hardware" --> "Deploy Capability Release"
}
partition "Capability Manager" #00aaff {
"Start Build" --> "Build Capability"
}
partition "Security Aspect" pink {
"Build Capability" --> "Generate Attestation Keys"
}
partition "Capability Manager" #00aaff {
"Generate Attestation Keys" --> "Provision Capability"
}
partition "Capability Manager" #00aaff {
"Provision Capability" --> "Attest Capability"
}
partition "Capability Manager" #00aaff {
"Attest Capability" --> if "Attestation match" then
}
partition "Capability Manager" #00aaff {
else
--> [true] "Deploy Capability Release"
}
partition "Capability Manager" #00aaff {
else
--> [false] "Failed Deployment"
}

@enduml
